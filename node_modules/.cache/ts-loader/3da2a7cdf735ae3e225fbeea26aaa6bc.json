{"remainingRequest":"/Users/const/Documents/Movie/Slog/node_modules/thread-loader/dist/cjs.js!/Users/const/Documents/Movie/Slog/node_modules/babel-loader/lib/index.js!/Users/const/Documents/Movie/Slog/node_modules/ts-loader/index.js??ref--13-3!/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/const/Documents/Movie/Slog/src/components/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/const/Documents/Movie/Slog/src/components/Login.vue","mtime":1572459224000},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1572459224000},{"path":"/Users/const/Documents/Movie/Slog/node_modules/thread-loader/dist/cjs.js","mtime":1572459224000},{"path":"/Users/const/Documents/Movie/Slog/node_modules/babel-loader/lib/index.js","mtime":1572459224000},{"path":"/Users/const/Documents/Movie/Slog/node_modules/ts-loader/index.js","mtime":1572459224000},{"path":"/Users/const/Documents/Movie/Slog/node_modules/cache-loader/dist/cjs.js","mtime":1572459224000},{"path":"/Users/const/Documents/Movie/Slog/node_modules/vue-loader/lib/index.js","mtime":1572459224000}],"contextDependencies":[],"result":["export default {\n  name: 'Login',\n  data: function data() {\n    return {\n      disabled: true,\n      loading: false,\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      loginRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          min: 5,\n          max: 10,\n          message: '长度在 5 到 10 个字符',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 12,\n          message: '长度在 6 到 12 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  watch: {\n    loginForm: {\n      handler: function handler() {\n        if (this.loginForm.username.length > 4 && this.loginForm.password.length > 5) {\n          this.disabled = false;\n        } else {\n          this.disabled = true;\n        }\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    var that = this;\n\n    if (that.$getCookie('key')) {\n      this.$router.push('main');\n    }\n  },\n  methods: {\n    onSubmit: function onSubmit(loginForm) {\n      var that = this;\n      that.loading = true;\n      that.$refs[loginForm].validate(function (valid) {\n        if (valid) {\n          that.$axios.post('/api/login/login', that.$qs.stringify(that.loginForm), {}).then(function (res) {\n            console.log(res, '/api/login/login');\n\n            if (res.data.status) {\n              that.$toast(that, 'success', res.data.message);\n              that.$setCookie('key', res.data.key, 1800);\n              setTimeout(function () {\n                that.$router.push('main');\n              }.bind(this), 600);\n            } else {\n              that.$toast(that, 'error', res.data.message);\n              that.loading = false;\n            }\n          }).catch(function (err) {\n            that.$toast(that, 'error', '网络错误～');\n            that.loading = false;\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};",null]}